{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Documents/CURSOS/DIGITAL HOUSE/A\\xD1O 1/BIMESTRE 3/MATERIAS/FRONTEND III FRAMEWORKS/FINAL FRONT/fe3-final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/user/Documents/CURSOS/DIGITAL HOUSE/A\\xD1O 1/BIMESTRE 3/MATERIAS/FRONTEND III FRAMEWORKS/FINAL FRONT/fe3-final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createContext,useContext,useEffect,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var GlobalStates=/*#__PURE__*/createContext();var themes={dark:{theme:true},light:{theme:false}};var initialApiState=[];var intialThemeState=themes.light;var initialFavState=JSON.parse(localStorage.getItem(\"favs\"))||[];var apiReducer=function apiReducer(state,action){switch(action.type){case\"GET_DENTIST\":return action.payload;default:throw new Error();}};var themeReducer=function themeReducer(state,action){switch(action.type){case\"SWITCH_DARK\":return themes.dark;case\"SWITCH_LIGHT\":return themes.light;default:throw new Error();}};var favReducer=function favReducer(state,action){switch(action.type){case\"ADD_FAV\":return[].concat(_toConsumableArray(state),[action.payload]);default:throw new Error();}};var Context=function Context(_ref){var children=_ref.children;var _useReducer=useReducer(apiReducer,initialApiState),_useReducer2=_slicedToArray(_useReducer,2),apiState=_useReducer2[0],apiDispatch=_useReducer2[1];var _useReducer3=useReducer(themeReducer,intialThemeState),_useReducer4=_slicedToArray(_useReducer3,2),themeState=_useReducer4[0],themeDispatch=_useReducer4[1];var _useReducer5=useReducer(favReducer,initialFavState),_useReducer6=_slicedToArray(_useReducer5,2),favState=_useReducer6[0],favDispatch=_useReducer6[1];var url=\"https://jsonplaceholder.typicode.com/users\";useEffect(function(){localStorage.setItem(\"favs\",JSON.stringify(favState));},[favState]);useEffect(function(){fetch(url).then(function(res){return res.json();}).then(function(data){return apiDispatch({type:\"GET_DENTIST\",payload:data});});},[]);return/*#__PURE__*/_jsx(GlobalStates.Provider,{value:{apiState:apiState,themeState:themeState,themeDispatch:themeDispatch,favState:favState,favDispatch:favDispatch},children:children});};export default Context;export var useGlobalStates=function useGlobalStates(){return useContext(GlobalStates);};","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","GlobalStates","themes","dark","theme","light","initialApiState","intialThemeState","initialFavState","JSON","parse","localStorage","getItem","apiReducer","state","action","type","payload","Error","themeReducer","favReducer","Context","children","apiState","apiDispatch","themeState","themeDispatch","favState","favDispatch","url","setItem","stringify","fetch","then","res","json","data","useGlobalStates"],"sources":["C:/Users/user/Documents/CURSOS/DIGITAL HOUSE/AÃ‘O 1/BIMESTRE 3/MATERIAS/FRONTEND III FRAMEWORKS/FINAL FRONT/fe3-final/src/Context/Context.jsx"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\r\n\r\nconst GlobalStates = createContext();\r\n\r\nconst themes = {\r\n  dark: {\r\n    theme: true,\r\n  },\r\n  light: {\r\n    theme: false,\r\n  },\r\n};\r\n\r\nconst initialApiState = [];\r\nconst intialThemeState = themes.light;\r\nconst initialFavState = JSON.parse(localStorage.getItem(\"favs\")) || [];\r\n\r\nconst apiReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_DENTIST\":\r\n      return action.payload;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst themeReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"SWITCH_DARK\":\r\n      return themes.dark;\r\n    case \"SWITCH_LIGHT\":\r\n      return themes.light;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst favReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_FAV\":\r\n      return [...state, action.payload];\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst Context = ({ children }) => {\r\n  const [apiState, apiDispatch] = useReducer(apiReducer, initialApiState);\r\n  const [themeState, themeDispatch] = useReducer(\r\n    themeReducer,\r\n    intialThemeState\r\n  );\r\n  const [favState, favDispatch] = useReducer(favReducer, initialFavState);\r\n\r\n  const url = \"https://jsonplaceholder.typicode.com/users\";\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favs\", JSON.stringify(favState));\r\n  }, [favState]);\r\n\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => apiDispatch({ type: \"GET_DENTIST\", payload: data }));\r\n  }, []);\r\n\r\n  return (\r\n    <GlobalStates.Provider\r\n      value={{ apiState, themeState, themeDispatch, favState, favDispatch }}\r\n    >\r\n      {children}\r\n    </GlobalStates.Provider>\r\n  );\r\n};\r\nexport default Context;\r\n\r\nexport const useGlobalStates = () => useContext(GlobalStates);"],"mappings":"kaAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,SAApC,CAA+CC,UAA/C,KAAiE,OAAjE,C,2CAEA,GAAMC,aAAY,cAAGJ,aAAa,EAAlC,CAEA,GAAMK,OAAM,CAAG,CACbC,IAAI,CAAE,CACJC,KAAK,CAAE,IADH,CADO,CAIbC,KAAK,CAAE,CACLD,KAAK,CAAE,KADF,CAJM,CAAf,CASA,GAAME,gBAAe,CAAG,EAAxB,CACA,GAAMC,iBAAgB,CAAGL,MAAM,CAACG,KAAhC,CACA,GAAMG,gBAAe,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,GAA4C,EAApE,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACpC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACE,MAAOD,OAAM,CAACE,OAAd,CACF,QACE,KAAM,IAAIC,MAAJ,EAAN,CAJJ,CAMD,CAPD,CASA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACL,KAAD,CAAQC,MAAR,CAAmB,CACtC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACE,MAAOd,OAAM,CAACC,IAAd,CACF,IAAK,cAAL,CACE,MAAOD,OAAM,CAACG,KAAd,CACF,QACE,KAAM,IAAIa,MAAJ,EAAN,CANJ,CAQD,CATD,CAWA,GAAME,WAAU,CAAG,QAAbA,WAAa,CAACN,KAAD,CAAQC,MAAR,CAAmB,CACpC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,SAAL,CACE,mCAAWF,KAAX,GAAkBC,MAAM,CAACE,OAAzB,GACF,QACE,KAAM,IAAIC,MAAJ,EAAN,CAJJ,CAMD,CAPD,CASA,GAAMG,QAAO,CAAG,QAAVA,QAAU,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChC,gBAAgCtB,UAAU,CAACa,UAAD,CAAaP,eAAb,CAA1C,4CAAOiB,QAAP,iBAAiBC,WAAjB,iBACA,iBAAoCxB,UAAU,CAC5CmB,YAD4C,CAE5CZ,gBAF4C,CAA9C,6CAAOkB,UAAP,iBAAmBC,aAAnB,iBAIA,iBAAgC1B,UAAU,CAACoB,UAAD,CAAaZ,eAAb,CAA1C,6CAAOmB,QAAP,iBAAiBC,WAAjB,iBAEA,GAAMC,IAAG,CAAG,4CAAZ,CAEA9B,SAAS,CAAC,UAAM,CACdY,YAAY,CAACmB,OAAb,CAAqB,MAArB,CAA6BrB,IAAI,CAACsB,SAAL,CAAeJ,QAAf,CAA7B,EACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA5B,SAAS,CAAC,UAAM,CACdiC,KAAK,CAACH,GAAD,CAAL,CACGI,IADH,CACQ,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAUZ,YAAW,CAAC,CAAER,IAAI,CAAE,aAAR,CAAuBC,OAAO,CAAEmB,IAAhC,CAAD,CAArB,EAFR,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACE,KAAC,YAAD,CAAc,QAAd,EACE,KAAK,CAAE,CAAEb,QAAQ,CAARA,QAAF,CAAYE,UAAU,CAAVA,UAAZ,CAAwBC,aAAa,CAAbA,aAAxB,CAAuCC,QAAQ,CAARA,QAAvC,CAAiDC,WAAW,CAAXA,WAAjD,CADT,UAGGN,QAHH,EADF,CAOD,CA3BD,CA4BA,cAAeD,QAAf,CAEA,MAAO,IAAMgB,gBAAe,CAAG,QAAlBA,gBAAkB,SAAMvC,WAAU,CAACG,YAAD,CAAhB,EAAxB"},"metadata":{},"sourceType":"module"}